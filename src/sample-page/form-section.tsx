import { Box, Stack, Typography } from "@mui/material";
import { styled } from "@mui/material/styles";
import EditButton from "./edit-button";
import { colors } from "../theme";

const Root = styled("div")({
  borderRadius: "8px",
  border: `1px solid ${colors.grey[200]}`,
  backgroundColor: "white",
  padding: "24px",
});

export default function FormSectionGroup({
  title,
  children,
}: {
  title: string;
  children: React.ReactNode;
}) {
  return (
    <Root>
      <Stack spacing={3} direction="column">
        <Box
          sx={{
            display: "flex",
            justifyContent: "space-between",
          }}
        >
          <Typography variant="h4">{title}</Typography>
          <EditButton />
        </Box>
        {children}
      </Stack>
    </Root>
  );
}

export function FormSection({
  title,
  hasTooltip,
  children,
}: {
  title: string;
  hasTooltip?: boolean;
  children: React.ReactNode;
}) {
  return (
    <div>
      <Box sx={{ display: "flex", alignItems: "center", gap: "4px", mb: 1 }}>
        <Typography variant="h6" sx={{ display: "inline-block" }}>
          {title}
        </Typography>
        {hasTooltip && <TooltipIcon />}
      </Box>
      {children}
    </div>
  );
}

function TooltipIcon() {
  return (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="20"
      height="20"
      viewBox="0 0 20 20"
      fill="none"
    >
      <mask
        id="mask0_7_10483"
        style={{ maskType: "alpha" }}
        maskUnits="userSpaceOnUse"
        x="0"
        y="0"
        width="20"
        height="20"
      >
        <rect width="20" height="20" fill="#D9D9D9" />
      </mask>
      <g mask="url(#mask0_7_10483)">
        <path
          d="M10.0302 14.6794C10.2558 14.6794 10.4472 14.6015 10.6042 14.4457C10.7613 14.2899 10.8398 14.0992 10.8398 13.8736C10.8398 13.648 10.7619 13.4567 10.6061 13.2996C10.4503 13.1426 10.2596 13.064 10.034 13.064C9.80839 13.064 9.61706 13.1419 9.46002 13.2977C9.30296 13.4535 9.22444 13.6442 9.22444 13.8698C9.22444 14.0954 9.30233 14.2868 9.45812 14.4438C9.6139 14.6009 9.8046 14.6794 10.0302 14.6794ZM10.0072 17.5833C8.96398 17.5833 7.98148 17.3859 7.05971 16.9912C6.13792 16.5964 5.3311 16.0533 4.63925 15.3618C3.94739 14.6703 3.40401 13.8641 3.0091 12.9433C2.6142 12.0225 2.41675 11.0387 2.41675 9.99179C2.41675 8.94488 2.61411 7.964 3.00883 7.04917C3.40355 6.13432 3.94668 5.33097 4.63821 4.63913C5.32975 3.94727 6.13591 3.40388 7.05669 3.00898C7.97746 2.61408 8.9613 2.41663 10.0082 2.41663C11.0551 2.41663 12.036 2.61399 12.9508 3.00871C13.8657 3.40343 14.669 3.94656 15.3609 4.63808C16.0527 5.32963 16.5961 6.13416 16.991 7.05169C17.3859 7.96922 17.5834 8.94958 17.5834 9.99279C17.5834 11.036 17.386 12.0185 16.9913 12.9403C16.5966 13.8621 16.0534 14.6689 15.3619 15.3608C14.6704 16.0526 13.8658 16.596 12.9483 16.9909C12.0308 17.3858 11.0504 17.5833 10.0072 17.5833ZM10.0001 16.4999C11.8056 16.4999 13.3403 15.868 14.6042 14.6041C15.8681 13.3402 16.5001 11.8055 16.5001 9.99994C16.5001 8.19438 15.8681 6.65966 14.6042 5.39577C13.3403 4.13188 11.8056 3.49994 10.0001 3.49994C8.1945 3.49994 6.65978 4.13188 5.39589 5.39577C4.132 6.65966 3.50006 8.19438 3.50006 9.99994C3.50006 11.8055 4.132 13.3402 5.39589 14.6041C6.65978 15.868 8.1945 16.4999 10.0001 16.4999ZM10.0514 6.43263C10.4402 6.43263 10.7768 6.55509 11.061 6.8C11.3451 7.04492 11.4872 7.35106 11.4872 7.71844C11.4872 8.02791 11.401 8.30337 11.2284 8.54481C11.0559 8.78627 10.8542 9.00422 10.6235 9.19867C10.321 9.46702 10.0512 9.76915 9.81406 10.1051C9.57696 10.441 9.45735 10.8135 9.45521 11.2227C9.44986 11.3744 9.50036 11.4946 9.60671 11.5833C9.71305 11.6719 9.83712 11.7163 9.97891 11.7163C10.1308 11.7163 10.2589 11.6733 10.363 11.5873C10.4672 11.5013 10.5348 11.3878 10.5657 11.2467C10.6352 10.9465 10.7605 10.6821 10.9416 10.4535C11.1226 10.2249 11.3188 10.0075 11.5301 9.80136C11.8338 9.50533 12.085 9.17561 12.2837 8.81219C12.4824 8.44876 12.5818 8.05889 12.5818 7.64258C12.5818 6.98233 12.3355 6.43293 11.843 5.99436C11.3505 5.55579 10.7611 5.3365 10.0749 5.3365C9.58483 5.3365 9.12721 5.44975 8.702 5.67625C8.27679 5.90274 7.92685 6.22136 7.65219 6.63213C7.56467 6.75768 7.54144 6.89536 7.58248 7.04517C7.62352 7.19496 7.71766 7.29995 7.86491 7.36015C8.01698 7.43091 8.1662 7.44118 8.31256 7.39096C8.45892 7.34075 8.58125 7.2633 8.67954 7.15861C8.84835 6.95347 9.0492 6.78119 9.2821 6.64177C9.51501 6.50234 9.77144 6.43263 10.0514 6.43263Z"
          fill="#495057"
        />
      </g>
    </svg>
  );
}
